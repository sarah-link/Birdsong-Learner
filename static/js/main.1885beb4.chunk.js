(this["webpackJsonpbirdsong-learner"]=this["webpackJsonpbirdsong-learner"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),i=n.n(s),r=n(8),a=n.n(r),o=(n(13),n(2)),c=n(3),l=n(5),d=n(4),u=(n(14),n(6)),h=(n(15),n(0)),b=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={bird:s.props.bird},s}return Object(c.a)(n,[{key:"render",value:function(){var e="https:"+this.state.bird.sono.full;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{id:"sonogram",children:[Object(h.jsx)("img",{src:e,id:"sonogramImg",alt:"Sonogram of bird song"}),Object(h.jsxs)("p",{className:"credits",children:["Recorded by: ",this.state.bird.rec]})]})})}}]),n}(i.a.Component),j=(n(17),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).audioEnded=function(){console.log("here"),s.setState({isPlaying:!1})},s.state={bird:s.props.bird,isPlaying:!1},s}return Object(c.a)(n,[{key:"playPauseAudio",value:function(){var e=document.getElementById("songAudio");console.log(e.paused),console.log(e.currentTime),e.paused?(this.setState({isPlaying:!0}),e.play()):(this.setState({isPlaying:!1}),e.pause())}},{key:"componentDidMount",value:function(){document.getElementById("songAudio").addEventListener("ended",this.audioEnded)}},{key:"render",value:function(){var e=this,t="https:"+this.state.bird.file;return console.log(t),Object(h.jsxs)("div",{id:"idenInfo",children:[Object(h.jsx)(b,{bird:this.state.bird}),Object(h.jsxs)("audio",{id:"songAudio",children:[Object(h.jsx)("source",{src:t,type:"audio/mpeg"}),"Your browser does not support the audio element."]}),Object(h.jsx)("div",{id:"audioControls",children:Object(h.jsx)("button",{id:"playPauseButton",onClick:function(){return e.playPauseAudio()},children:this.state.isPlaying?Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-pause-fill pause",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{d:"M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"})}):Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-play-fill play",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{d:"M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"})})})})]})}}]),n}(i.a.Component)),g=(n(18),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={bird:s.props.bird,userGuess:"",isGuessCorrect:null},s.handleChange=s.handleChange.bind(Object(u.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(u.a)(s)),s}return Object(c.a)(n,[{key:"handleChange",value:function(e){this.setState({userGuess:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.cleanString(this.state.userGuess),n=this.cleanString(this.state.bird.en);this.setState({isGuessCorrect:t===n})}},{key:"cleanString",value:function(e){return String(e).toLowerCase().trim().replaceAll("'","").replaceAll("-","").replaceAll(" ","")}},{key:"showCheat",value:function(){this.setState({userGuess:this.state.bird.en})}},{key:"render",value:function(){var e,t=this;return e=!1===this.state.isGuessCorrect?Object(h.jsx)("p",{id:"feedback",className:"incorrect",children:"Your guess is incorrect, try again"}):!0===this.state.isGuessCorrect?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{id:"feedback",className:"correct",children:"Correct!"}),Object(h.jsx)("button",{onClick:this.props.loadNextBird,id:"nextBirdButton",children:"Try Again?"})]}):Object(h.jsx)("p",{children:"\xa0"}),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{id:"userGuess",children:[Object(h.jsx)("button",{id:"cheatButton",onClick:function(){return t.showCheat()},children:"Cheat"}),Object(h.jsx)("label",{htmlFor:"guess",children:"Guess Bird:"}),Object(h.jsx)("div",{className:"break"}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsx)("input",{type:"text",className:"textInput",id:"userGuess",value:this.state.userGuess,onChange:this.handleChange}),Object(h.jsx)("input",{type:"submit",className:"submitInput",value:"Submit"})]}),e]})})}}]),n}(i.a.Component)),p=(n(19),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).getBirdsByCountry=function(e){fetch("https://cors.bridged.cc/https://www.xeno-canto.org/api/2/recordings?query=cnt:"+e+"+type:song+q_gt:C+len:5-12").then((function(e){return e.json()})).then((function(t){s.getSingleCall(e,t.numPages)}),(function(e){s.setState({isLoaded:!0,error:e})}))},s.getSingleCall=function(e,t){var n=Math.floor(Math.random()*t)+1;console.log("numPages: "+t);var i="https://cors.bridged.cc/https://www.xeno-canto.org/api/2/recordings?query=cnt:"+e+"+type:song+q_gt:C+len:5-12&page="+n;console.log("picked page: "+n),fetch(i).then((function(e){return e.json()})).then((function(e){for(var t=!1,n=null;!1===t;){var i=Math.floor(Math.random()*e.recordings.length)+1;"mystery"!==(n=e.recordings[i]).gen.toLowerCase()&&(t=!0),console.log("total birds: "+e.recordings.length),console.log("picked bird: "+i)}s.setState({isLoaded:!0,bird:n})}),(function(e){s.setState({isLoaded:!0,error:e})}))},s.state={error:null,isLoaded:!1,bird:null},s.loadNextBird=s.loadNextBird.bind(Object(u.a)(s)),s}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getBirdsByCountry("United_States")}},{key:"loadNextBird",value:function(){this.setState({isLoaded:!1}),this.componentDidMount()}},{key:"render",value:function(){var e=this,t=this.state,n=t.error,s=t.isLoaded;return n?Object(h.jsxs)("div",{children:["Error: ",n.message]}):s?(console.log(this.state.bird),console.log(this.state.bird.en),Object(h.jsxs)("div",{className:"identifier",children:[Object(h.jsx)("br",{}),Object(h.jsx)(j,{bird:this.state.bird}),Object(h.jsx)("br",{}),Object(h.jsx)(g,{bird:this.state.bird,loadNextBird:function(){e.loadNextBird()}})]})):Object(h.jsx)("div",{className:"identifier loading",children:"Loading..."})}}]),n}(i.a.Component)),f=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"render",value:function(){return Object(h.jsx)(p,{})}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(h.jsx)(f,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[20,1,2]]]);
//# sourceMappingURL=main.1885beb4.chunk.js.map